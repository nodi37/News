---
import CategoryIndexPage from "../components/CategoryIndexPage.astro";
import Layout from "../layouts/Layout.astro";
import loadNews, { dummyData } from "../services/newsService";

const req = await loadNews(1, 10);
const articles = req.status == "ok" ? req.articles : dummyData;
---

<Layout title="N - Home">
  <CategoryIndexPage articles={articles} endpoint="page" />
</Layout>

<style lang="scss">
  @import "../styles/_variables.scss";

  main {
    padding: 1.5rem;
    padding-top: 0;

    @media screen and (min-width: $bp-desktop) {
      padding: 0;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 5rem;
    }
  }
</style>
